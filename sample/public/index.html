<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8" />
	<title>Proton</title>
	<script src="/dist/proton.js"></script>
</head>
<body>
	<h1>Proton Sample</h1>

	<script>
		var proton = Proton.new();

        var foo = proton.module("foo");

		proton.onConnecting = function() {
			console.log("connecting");
		};

        proton.onConnectingFail = function() {
            console.log("connecting fail");
        };

		proton.onConnect = function() {
			console.log("connect");

            foo.call("bar", { foo: 3 }, function(data) {
				console.log("success:", data);
			}, function(err) {
				console.log("error:", err);
			});
		};

        proton.onDisconnect = function() {
            console.log("disconnect");
        };

		proton.onError = function(msg) {
			console.log("error:", msg);
		};
	</script>
</body>
</html>
